# Project test viá»‡c sá»­ dá»¥ng raylib Ä‘á»ƒ váº½ GUI

## Build raylib

clone raylib tá»« source sau

```
git clone https://github.com/raysan5/raylib.git
```

cd vÃ o thÆ° má»¥c src

```
cd raylib-src/src
```

cháº¡y command sau Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c file build raylib

```
make PLATFORM=PLATFORM_DESKTOP
```

copy 2 file raylib.h vÃ  raymath.h vÃ o thÆ° má»¥c include, copy file libraylib.a vÃ o thÆ° má»¥c lib

## HÆ°á»›ng Dáº«n Cáº¥u HÃ¬nh C/raylib trÃªn macOS + VSCode

## ğŸ“š Má»¥c Lá»¥c

1. [Tá»•ng Quan](#tá»•ng-quan)
2. [Cáº¥u TrÃºc Folder](#cáº¥u-trÃºc-folder)
3. [tasks.json Chi Tiáº¿t](#tasksjson-chi-tiáº¿t)
4. [launch.json Chi Tiáº¿t](#launchjson-chi-tiáº¿t)
5. [Quy TrÃ¬nh Cháº¡y Code](#quy-trÃ¬nh-cháº¡y-code)
6. [Táº¡i Sao Pháº£i LÃ m Tháº¿](#táº¡i-sao-pháº£i-lÃ m-tháº¿)

---

## ğŸ¯ Tá»•ng Quan

Äá»ƒ cháº¡y Ä‘Æ°á»£c chÆ°Æ¡ng trÃ¬nh C sá»­ dá»¥ng raylib trÃªn macOS + VSCode, báº¡n cáº§n **3 bÆ°á»›c chÃ­nh**:

1. **Compile** (`.c` â†’ `.o` object files) - dÃ¹ng `clang` compiler
2. **Link** (`.o` + thÆ° viá»‡n â†’ executable) - liÃªn káº¿t vá»›i raylib + framework macOS
3. **Debug** (cháº¡y vá»›i debugger) - dÃ¹ng `lldb`

VSCode sá»­ dá»¥ng 2 file cáº¥u hÃ¬nh:

- **`tasks.json`** - Ä‘á»‹nh nghÄ©a **cÃ¡ch compile & link**
- **`launch.json`** - Ä‘á»‹nh nghÄ©a **cÃ¡ch debug & cháº¡y**

---

## ğŸ“ Cáº¥u TrÃºc Folder

```
raylib-game/
â”œâ”€â”€ .vscode/
â”‚   â”œâ”€â”€ tasks.json      â† Cáº¥u hÃ¬nh biÃªn dá»‹ch
â”‚   â””â”€â”€ launch.json     â† Cáº¥u hÃ¬nh debug
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ raylib.h        â† Header file raylib
â”‚   â””â”€â”€ raymath.h
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ libraylib.a     â† ThÆ° viá»‡n raylib (Ä‘Ã£ compile sáºµn)
â””â”€â”€ src/
    â””â”€â”€ main.c          â† Code cá»§a báº¡n
```

**Ã nghÄ©a:**

- `include/` - chá»©a cÃ¡c **khai bÃ¡o hÃ m** (.h files)
- `lib/` - chá»©a cÃ¡c **Ä‘á»‹nh nghÄ©a hÃ m** (.a files = static libraries)
- `src/` - code báº¡n viáº¿t

---

## ğŸ”§ tasks.json Chi Tiáº¿t

### File HoÃ n Chá»‰nh

```json
{
  "tasks": [
    {
      "type": "cppbuild",
      "label": "C/C++: clang build active file",
      "command": "/usr/bin/clang",
      "args": [
        "-I${workspaceFolder}/include",
        "-L${workspaceFolder}/lib",
        "-fcolor-diagnostics",
        "-fansi-escape-codes",
        "-g",
        "${file}",
        "-o",
        "${fileDirname}/${fileBasenameNoExtension}",
        "-lraylib",
        "-framework",
        "CoreVideo",
        "-framework",
        "IOKit",
        "-framework",
        "Cocoa",
        "-framework",
        "CoreFoundation",
        "-framework",
        "AppKit"
      ],
      "options": {
        "cwd": "${fileDirname}"
      },
      "problemMatcher": ["$gcc"],
      "group": "build",
      "detail": "Task generated by Debugger."
    }
  ],
  "version": "2.0.0"
}
```

### Giáº£i ThÃ­ch Tá»«ng Pháº§n

#### 1. **Cáº¥u HÃ¬nh CÆ¡ Báº£n**

```json
"type": "cppbuild",           // Loáº¡i task: C/C++ build
"label": "C/C++: clang build active file",  // TÃªn task hiá»ƒn thá»‹
"command": "/usr/bin/clang",  // DÃ¹ng clang compiler (cÃ³ sáºµn macOS)
```

#### 2. **Include & Library Paths**

```json
"-I${workspaceFolder}/include",    // ThÃªm thÆ° má»¥c include vÃ o search path
"-L${workspaceFolder}/lib",        // ThÃªm thÆ° má»¥c lib vÃ o search path
```

**Táº¡i sao?**

- Compiler cáº§n **tÃ¬m file header** khi gáº·p `#include "raylib.h"`
- Linker cáº§n **tÃ¬m file library** khi gáº·p `-lraylib`
- Náº¿u khÃ´ng cÃ³ `-I` vÃ  `-L`, compiler/linker sáº½ bÃ¡o lá»—i "file not found"

**Variable:**

- `${workspaceFolder}` = thÆ° má»¥c gá»‘c project (`/Users/tonguyenducmanh/Codes/raylib-game`)

#### 3. **Diagnostic Options**

```json
"-fcolor-diagnostics",         // Hiá»ƒn thá»‹ lá»—i vá»›i mÃ u sáº¯c
"-fansi-escape-codes",         // Há»— trá»£ ANSI color codes
```

**TÃ¡c dá»¥ng:** GiÃºp output trong VSCode terminal dá»… Ä‘á»c hÆ¡n

#### 4. **Debug Symbols**

```json
"-g",    // ThÃªm debug symbols vÃ o executable
```

**Táº¡i sao?**

- Cho phÃ©p debugger biáº¿t Ä‘Æ°á»£c dÃ²ng code nÃ o Ä‘ang cháº¡y
- Cáº§n thiáº¿t Ä‘á»ƒ **set breakpoint** vÃ  **step through code**
- Náº¿u khÃ´ng cÃ³ `-g`, debugger khÃ´ng thá»ƒ hoáº¡t Ä‘á»™ng

#### 5. **File Input & Output**

```json
"${file}",                          // Input: file hiá»‡n táº¡i (main.c)
"-o",
"${fileDirname}/${fileBasenameNoExtension}",  // Output: main (executable)
```

**VÃ­ dá»¥:**

- Input: `/Users/tonguyenducmanh/Codes/raylib-game/src/main.c`
- Output: `/Users/tonguyenducmanh/Codes/raylib-game/src/main`

#### 6. **Linking Libraries**

```json
"-lraylib",    // Link vá»›i libraylib.a (raylib library)
```

**Quy táº¯c:** `-l<name>` sáº½ tÃ¬m file `lib<name>.a` hoáº·c `lib<name>.so`

- `-lraylib` â†’ tÃ¬m `libraylib.a` trong thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh bá»Ÿi `-L`

#### 7. **macOS Framework Links** â­ QUAN TRá»ŒNG

```json
"-framework", "CoreVideo",
"-framework", "IOKit",
"-framework", "Cocoa",
"-framework", "CoreFoundation",
"-framework", "AppKit"
```

**Framework lÃ  gÃ¬?**

- Framework = ThÆ° viá»‡n há»‡ thá»‘ng macOS chá»©a cÃ¡c hÃ m cáº¥p Ä‘á»™ OS
- KhÃ¡c vá»›i libraries (`.a` files) - framework lÃ  má»™t thÆ° má»¥c chá»©a headers, libraries, resources

**Táº¡i sao raylib cáº§n chÃºng?**

| Framework          | Chá»©c NÄƒng                                           |
| ------------------ | --------------------------------------------------- |
| **Cocoa**          | Táº¡o cá»­a sá»•, menu, dialogs (GUI framework macOS)     |
| **AppKit**         | Quáº£n lÃ½ application lifecycle, events               |
| **CoreFoundation** | Low-level APIs (strings, arrays, dictionaries)      |
| **CoreVideo**      | Quáº£n lÃ½ video output, frame rate, vsync             |
| **IOKit**          | Äá»c input tá»« hardware (joystick, gamepad, keyboard) |

**Chuá»—i gá»i hÃ m:**

```
Báº¡n gá»i InitWindow()
  â†“
raylib gá»i macOS Cocoa API
  â†“
macOS cáº§n CoreFoundation, AppKit, Cocoa libraries
  â†“
Linker pháº£i link nhá»¯ng framework nÃ y
  â†“
Chá»‰ khi nÃ o táº¥t cáº£ symbols Ä‘Æ°á»£c giáº£i quyáº¿t, executable má»›i táº¡o Ä‘Æ°á»£c
```

**Náº¿u thiáº¿u báº¥t ká»³ framework nÃ o?**

```
ld: symbol(s) not found for architecture arm64
  "_NSApp", referenced from:
      -[GLFWApplicationDelegate applicationWillFinishLaunching:]
```

ÄÃ¢y chÃ­nh lÃ  lá»—i báº¡n gáº·p lÃºc Ä‘áº§u!

#### 8. **Working Directory**

```json
"options": {
  "cwd": "${fileDirname}"    // Cháº¡y compiler tá»« thÆ° má»¥c file
}
```

#### 9. **Problem Matcher**

```json
"problemMatcher": ["$gcc"]    // PhÃ¢n tÃ­ch output lá»—i cá»§a GCC/Clang
```

**TÃ¡c dá»¥ng:** VSCode sáº½ parse output tá»« compiler vÃ  hiá»ƒn thá»‹ lá»—i trong "Problems" tab

---

## ğŸ® launch.json Chi Tiáº¿t

### File HoÃ n Chá»‰nh

```json
{
  "configurations": [
    {
      "name": "C/C++: clang build and debug active file",
      "type": "cppdbg",
      "request": "launch",
      "program": "${fileDirname}/${fileBasenameNoExtension}",
      "args": [],
      "stopAtEntry": false,
      "cwd": "${fileDirname}",
      "environment": [],
      "externalConsole": false,
      "MIMode": "lldb",
      "preLaunchTask": "C/C++: clang build active file"
    }
  ],
  "version": "2.0.0"
}
```

### Giáº£i ThÃ­ch Chi Tiáº¿t

| Config                     | Ã NghÄ©a                                 |
| -------------------------- | --------------------------------------- |
| `"type": "cppdbg"`         | Sá»­ dá»¥ng debugger cho C/C++              |
| `"request": "launch"`      | Launch (cháº¡y) chÆ°Æ¡ng trÃ¬nh tá»« Ä‘áº§u       |
| `"program"`                | ÄÆ°á»ng dáº«n executable cáº§n cháº¡y           |
| `"args": []`               | Arguments truyá»n vÃ o program (Ä‘á»ƒ trá»‘ng) |
| `"stopAtEntry": false`     | KhÃ´ng dá»«ng táº¡i main() khi launch        |
| `"cwd"`                    | Working directory khi cháº¡y program      |
| `"externalConsole": false` | DÃ¹ng terminal integrated trong VSCode   |
| `"MIMode": "lldb"`         | Sá»­ dá»¥ng LLDB debugger (macOS debugger)  |
| `"preLaunchTask"`          | **Cháº¡y task nÃ y trÆ°á»›c khi debug**       |

### Pháº§n Quan Trá»ng Nháº¥t

```json
"preLaunchTask": "C/C++: clang build active file"
```

**Ã nghÄ©a:** TrÆ°á»›c khi cháº¡y debugger, VSCode sáº½:

1. Cháº¡y task `"C/C++: clang build active file"` tá»« `tasks.json`
2. Compile & link code thÃ nh executable
3. Sau Ä‘Ã³ má»›i launch executable vÃ o debugger

**Lá»£i Ã­ch:** Náº¿u code thay Ä‘á»•i, nÃ³ sáº½ tá»± Ä‘á»™ng rebuild trÆ°á»›c khi debug

---

## âš¡ Quy TrÃ¬nh Cháº¡y Code

### Khi báº¡n nháº¥n F5 (Debug):

```
1. VSCode Ä‘á»c launch.json
   â†“
2. Tháº¥y "preLaunchTask": "C/C++: clang build active file"
   â†“
3. VSCode cháº¡y task Ä‘Ã³ tá»« tasks.json
   â†“
4. Compiler clang biÃªn dá»‹ch main.c
   â†“
5. Linker liÃªn káº¿t vá»›i:
   - raylib library (libraylib.a)
   - macOS frameworks (Cocoa, AppKit, ...)
   â†“
6. Táº¡o executable "main" trong src/
   â†“
7. VSCode launch LLDB debugger
   â†“
8. LLDB cháº¡y executable
   â†“
9. Program hiá»ƒn thá»‹ cá»­a sá»• raylib + breakpoints hoáº¡t Ä‘á»™ng
```

### Khi báº¡n nháº¥n Ctrl+Shift+B (Build Only):

```
Chá»‰ cháº¡y tasks.json, khÃ´ng debug
```

---

## ğŸ¤” Táº¡i Sao Pháº£i LÃ m Tháº¿?

### 1. **Táº¡i sao pháº£i cÃ³ `-I` (Include path)?**

```c
#include "raylib.h"
```

Compiler cáº§n **tÃ¬m file nÃ y á»Ÿ Ä‘Ã¢u**. Náº¿u khÃ´ng:

```
error: 'raylib.h' file not found
```

### 2. **Táº¡i sao pháº£i cÃ³ `-L` vÃ  `-lraylib`?**

Sau khi compile `main.c` thÃ nh `main.o`, linker cáº§n **giáº£i quyáº¿t cÃ¡c hÃ m chÆ°a Ä‘á»‹nh nghÄ©a**:

```c
InitWindow(800, 600, "Game");
```

Linker tÃ¬m trong `libraylib.a` Ä‘á»ƒ láº¥y Ä‘á»‹nh nghÄ©a. Náº¿u khÃ´ng:

```
Undefined symbols for architecture arm64:
  "_InitWindow", referenced from:
      _main in main-cfb6a1.o
```

### 3. **Táº¡i sao pháº£i cÃ³ framework links?**

raylib **khÃ´ng tá»± táº¡o GUI**. NÃ³ gá»i macOS APIs:

```
raylib InitWindow()
  â†“
Gá»i Cocoa APIs
  â†“
Cocoa cáº§n CoreFoundation, AppKit, ...
```

Náº¿u khÃ´ng link framework, linker khÃ´ng tÃ¬m Ä‘Æ°á»£c symbol `_NSApp` (tá»« AppKit):

```
Undefined symbols for architecture arm64:
  "_NSApp", referenced from:
      -[GLFWApplicationDelegate applicationWillFinishLaunching:]
```

### 4. **Táº¡i sao pháº£i cÃ³ `-g` (debug symbols)?**

Khi compile mÃ  khÃ´ng cÃ³ `-g`:

```
File: 0x1000 bytes  (nhá», khÃ´ng cÃ³ thÃ´ng tin debug)
```

Khi compile cÃ³ `-g`:

```
File: 0x2000 bytes  (lá»›n hÆ¡n, chá»©a debug info)
```

Debug info cho phÃ©p debugger:

- Biáº¿t dÃ²ng code nÃ o Ä‘ang cháº¡y
- Set breakpoint
- Step through code
- Xem giÃ¡ trá»‹ biáº¿n

### 5. **Táº¡i sao pháº£i cÃ³ `preLaunchTask`?**

Náº¿u khÃ´ng cÃ³ `preLaunchTask`:

- Báº¡n sá»­a code trong main.c
- Nháº¥n F5 debug
- VSCode sáº½ debug **version cÅ©** (vÃ¬ executable khÃ´ng Ä‘Æ°á»£c rebuild)
- Bug cá»§a báº¡n khÃ´ng hiá»ƒn thá»‹!

Vá»›i `preLaunchTask`:

- Má»—i láº§n F5, code tá»± Ä‘á»™ng rebuild
- Debugger luÃ´n debug version má»›i nháº¥t

---

## ğŸ“‹ TÃ³m Táº¯t Lá»‡nh Thá»±c Táº¿

Náº¿u cháº¡y tá»« terminal (khÃ´ng cáº§n VSCode):

```bash
# Compile & Link má»™t láº§n
clang \
  -I/Users/tonguyenducmanh/Codes/raylib-game/include \
  -L/Users/tonguyenducmanh/Codes/raylib-game/lib \
  -g \
  /Users/tonguyenducmanh/Codes/raylib-game/src/main.c \
  -o /Users/tonguyenducmanh/Codes/raylib-game/src/main \
  -lraylib \
  -framework CoreVideo \
  -framework IOKit \
  -framework Cocoa \
  -framework CoreFoundation \
  -framework AppKit

# Cháº¡y
/Users/tonguyenducmanh/Codes/raylib-game/src/main

# Debug
lldb /Users/tonguyenducmanh/Codes/raylib-game/src/main
```

---

## âœ… Checklist

- [ ] Folder `include/` cÃ³ raylib.h?
- [ ] Folder `lib/` cÃ³ libraylib.a?
- [ ] `tasks.json` cÃ³ `-I`, `-L`, `-lraylib`?
- [ ] `tasks.json` cÃ³ táº¥t cáº£ 5 framework?
- [ ] `launch.json` cÃ³ `"preLaunchTask"`?
- [ ] Nháº¥n F5 vÃ  chÆ°Æ¡ng trÃ¬nh cháº¡y Ä‘Æ°á»£c?

---

## ğŸš€ Káº¿t Luáº­n

**LÃ½ do pháº£i cÃ³ táº¥t cáº£ config nÃ y:**

```
macOS â‰  Linux â‰  Windows

Má»—i OS cÃ³:
- CÃ¡ch quáº£n lÃ½ files khÃ¡c nhau
- GUI frameworks khÃ¡c nhau
- System libraries khÃ¡c nhau

raylib abstraction layer giÃºp code di Ä‘á»™ng,
nhÆ°ng khi compile, báº¡n pháº£i tell compiler & linker:
"HÃ£y link vá»›i macOS frameworks nÃ y"

ÄÃ³ chÃ­nh lÃ  5 framework trong tasks.json!
```

Náº¿u muá»‘n cháº¡y trÃªn Linux, báº¡n sáº½ thay tháº¿ framework vá»›i `-lX11 -lGL`.
TrÃªn Windows, thay vá»›i `-lwinmm -lopengl32`.

ÄÃ³ lÃ  **lÃ½ do pháº£i cÃ³ cáº¥u hÃ¬nh riÃªng cho tá»«ng OS**! ğŸ¯
